<hpe-header>
  <h1>HPE Security Assessment</h1>
  <p class="intro-text">Sed non lacus vulputate, rutrum enim varius, iaculis lacus. Integer mauris erat, varius eget egestas et, accumsan in dui. Praesent elit nunc, vehicula vel consectetur eget, placerat id dui.</p>
</hpe-header>
<section class="hpe-container">
  <h2>Begin the assessment</h2>
  <horizontal-stepper steps="$ctrl.steps">
    <horizontal-step ng-repeat="step in $ctrl.steps" ng-show="step.active" active="step.active">
      <div layout="column">
        <p flex>
          {{step.description}}
        </p>
        <div layout="row">
          <div class="options__labels" layout="row" layout-align="space-between" flex flex-offset-gt-sm="50">
            <div>
              <strong>Never/Not started</strong>
            </div>
            <div>
              <strong>Always/Complete</strong>
            </div>
          </div>
        </div>
        <div class="questions">
          <question ng-repeat="question in $ctrl.questions['section' + step.label]" section-responses="$ctrl.questions['section' + step.label]" section-index="{{$index}}" question-number="{{question.number}}" question-text="{{question.content}}"></question>
        </div>
        <div class="hpe-step__actions" layout="row" layout-align="end">
          <md-button class="md-raised" ng-hide="$first" ng-click="$ctrl.previousStep();" aria-label="continue">
            Back
          </md-button>
          <md-button class="md-accent md-raised" ng-disabled="$ctrl.isSectionIncomplete(step.label);" ng-click="$ctrl.nextStep();" aria-label="continue">
            Continue
          </md-button>
        </div>
        <div layout="row" layout-align="end" class="hpe-step__actions">
          <em ng-show="$ctrl.isSectionIncomplete(step.label);"><i class="fa fa-info-circle"></i> Complete all questions in this section to continue</em>
        </div>
      </div>
    </horizontal-step>
  </horizontal-stepper>
  <div id="shadow-form" style="display:block">
    <h3>Governance</h3>
    <div ng-repeat="question in $ctrl.questions.sectionA">
      <label>{{question.dbEntity}}</label>
      <input id="{{question.dbEntity}}" class="regInput microToolInput"  ng-attr-data-dbentity="{{question.dbEntity}}" ng-attr-data-analyticsname="{{question.analyticsName}}" value="{{question.value}}">
    </div>
    <h3>Construction</h3>
    <div ng-repeat="question in $ctrl.questions.sectionB">
      <label>{{question.dbEntity}}</label>
      <input id="{{question.dbEntity}}" class="regInput microToolInput"  ng-attr-data-dbentity="{{question.dbEntity}}" ng-attr-data-analyticsname="{{question.analyticsName}}" value="{{question.value}}">
    </div>
    <h3>Verification</h3>
    <div ng-repeat="question in $ctrl.questions.sectionC">
      <label>{{question.dbEntity}}</label>
      <input id="{{question.dbEntity}}" class="regInput microToolInput"  ng-attr-data-dbentity="{{question.dbEntity}}" ng-attr-data-analyticsname="{{question.analyticsName}}" value="{{question.value}}">
    </div>
    <h3>Deployment</h3>
    <div ng-repeat="question in $ctrl.questions.sectionD">
      <label>{{question.dbEntity}}</label>
      <input id="{{question.dbEntity}}" class="regInput microToolInput"  ng-attr-data-dbentity="{{question.dbEntity}}" ng-attr-data-analyticsname="{{question.analyticsName}}" value="{{question.value}}">
    </div>
    <button id="msUpdateInputs" onclick="msUpdateInputs()">Update</button>
  </div>
</section>
